<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Padel Club Investment Planner</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.2/dist/frappe-gantt.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.2/dist/frappe-gantt.css"/>
  <script type="module" src="script.js"></script>
</head>
<body>
  <header>
    <img src="logo.png" alt="Club Logo" id="clubLogo" />
    <h1>Padel Club Investment Planner</h1>
  </header>
  <nav class="tabs" role="tablist">
    <button type="button" data-tab="padel" class="active">Padel</button>
    <button type="button" data-tab="gym">Gym</button>
    <button type="button" data-tab="pnl">Profit &amp; Loss</button>
    <button type="button" data-tab="roi">ROI</button>
    <button type="button" data-tab="scenarios">Scenarios</button>
    <button type="button" data-tab="summary">Summary</button>
    <button type="button" data-tab="gantt">Gantt</button>
    <button type="button" data-tab="files">Files</button>
  </nav>
  <main>
    <section id="padel" class="tab-content">
      <h2>Padel Investment & Revenue</h2>
      <div class="section-group">
        <h3>Investment Inputs</h3>
        <label>Ground Cost: <input id="padelGround" type="number"></label>
        <label>Structure Cost: <input id="padelStructure" type="number"></label>
        <label>Number of Courts: <input id="padelCourts" type="number"></label>
        <label>Per Court Cost: <input id="padelCourtCost" type="number"></label>
        <label>Amenities: <input id="padelAmenities" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Utilization Inputs</h3>
        <label>Peak Hours/Day: <input id="padelPeakHours" type="number"></label>
        <label>Peak Utilization (%): <input id="padelPeakUtil" type="number"></label>
        <label>Peak Rate: <input id="padelPeakRate" type="number"></label>
        <label>Off Hours/Day: <input id="padelOffHours" type="number"></label>
        <label>Off Utilization (%): <input id="padelOffUtil" type="number"></label>
        <label>Off Rate: <input id="padelOffRate" type="number"></label>
        <label>Days/Week: <input id="padelDays" type="number"></label>
        <label>Weeks/Year: <input id="padelWeeks" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Operating Costs</h3>
        <label>Utilities/year: <input id="padelUtil" type="number"></label>
        <label>Insurance/year: <input id="padelInsure" type="number"></label>
        <label>Maintenance/year: <input id="padelMaint" type="number"></label>
        <label>Marketing/year: <input id="padelMarket" type="number"></label>
        <label>Admin/year: <input id="padelAdmin" type="number"></label>
        <label>Cleaning/year: <input id="padelClean" type="number"></label>
        <label>Misc/year: <input id="padelMisc" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Staffing</h3>
        <label>Full-time Manager: <input id="padelFtMgr" type="number"></label>
        <label>FT Mgr Salary: <input id="padelFtMgrSal" type="number"></label>
        <label>Full-time Reception: <input id="padelFtRec" type="number"></label>
        <label>FT Rec Salary: <input id="padelFtRecSal" type="number"></label>
        <label>Full-time Coach: <input id="padelFtCoach" type="number"></label>
        <label>FT Coach Salary: <input id="padelFtCoachSal" type="number"></label>
        <label>Part-time Coach: <input id="padelPtCoach" type="number"></label>
        <label>PT Coach Salary: <input id="padelPtCoachSal" type="number"></label>
        <label>Additional Staff: <input id="padelAddStaff" type="number"></label>
        <label>Add Staff Salary: <input id="padelAddStaffSal" type="number"></label>
      </div>
      <div id="padelSummary" class="summary"></div>
      <button id="calculatePadelBtn">Calculate Padel</button>
    </section>
    <section id="gym" class="tab-content hidden">
      <h2>Gym Investment & Revenue</h2>
      <div class="section-group">
        <h3>Investment Inputs</h3>
        <label>Equipment: <input id="gymEquip" type="number"></label>
        <label>Flooring: <input id="gymFloor" type="number"></label>
        <label>Amenities: <input id="gymAmen" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Revenue Inputs</h3>
        <label>Weekly Members: <input id="gymWeekMembers" type="number"></label>
        <label>Weekly Fee: <input id="gymWeekFee" type="number"></label>
        <label>Monthly Members: <input id="gymMonthMembers" type="number"></label>
        <label>Monthly Fee: <input id="gymMonthFee" type="number"></label>
        <label>Annual Members: <input id="gymAnnualMembers" type="number"></label>
        <label>Annual Fee: <input id="gymAnnualFee" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Operating Costs</h3>
        <label>Utilities/year: <input id="gymUtil" type="number"></label>
        <label>Insurance/year: <input id="gymInsure" type="number"></label>
        <label>Maintenance/year: <input id="gymMaint" type="number"></label>
        <label>Marketing/year: <input id="gymMarket" type="number"></label>
        <label>Admin/year: <input id="gymAdmin" type="number"></label>
        <label>Cleaning/year: <input id="gymClean" type="number"></label>
        <label>Misc/year: <input id="gymMisc" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Staffing</h3>
        <label>Full-time Trainer: <input id="gymFtTrainer" type="number"></label>
        <label>FT Trainer Salary: <input id="gymFtTrainerSal" type="number"></label>
        <label>Part-time Trainer: <input id="gymPtTrainer" type="number"></label>
        <label>PT Trainer Salary: <input id="gymPtTrainerSal" type="number"></label>
        <label>Additional Staff: <input id="gymAddStaff" type="number"></label>
        <label>Add Staff Salary: <input id="gymAddStaffSal" type="number"></label>
      </div>
      <div class="section-group">
        <h3>Ramp-up</h3>
        <label>Apply Ramp-Up? <input id="gymRamp" type="checkbox"></label>
        <label>Ramp Duration (months): <input id="rampDuration" type="number"></label>
        <label>Ramp Effect (%): <input id="rampEffect" type="number"></label>
      </div>
      <div id="gymSummary" class="summary"></div>
      <button id="calculateGymBtn">Calculate Gym</button>
    </section>
    <section id="pnl" class="tab-content hidden">
      <h2>Profit &amp; Loss Statement</h2>
      <div class="section-group">
        <label><input type="checkbox" id="includeGym"> Include Gym in PnL</label>
      </div>
      <div id="pnlSummary" class="summary"></div>
      <div class="section-group">
        <h3>Monthly Breakdown</h3>
        <table id="monthlyBreakdown">
          <thead><tr><th>Month</th><th>Revenue</th><th>Costs</th><th>Profit</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="section-group">
        <h3>Cash Flow</h3>
        <table id="cashFlowTable">
          <thead><tr><th>Month</th><th>Opening</th><th>Inflow</th><th>Outflow</th><th>Closing</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="section-group">
        <h3>Charts</h3>
        <div><canvas id="pnlChart" height="180"></canvas></div>
        <div><canvas id="profitTrendChart" height="180"></canvas></div>
        <div><canvas id="costPieChart" height="180"></canvas></div>
      </div>
    </section>
    <section id="roi" class="tab-content hidden">
      <h2>ROI &amp; Payback</h2>
      <div class="section-group">
        <label><input type="checkbox" id="includeGymROI"> Include Gym in ROI</label>
        <label>Revenue Adjust (%): <input id="roiRevAdjust" type="number"></label>
        <label>Cost Adjust (%): <input id="roiCostAdjust" type="number"></label>
      </div>
      <div id="yearsToROIText" class="summary"></div>
      <div id="roiKPIs" class="summary"></div>
      <div class="section-group">
        <h3>Payback Table</h3>
        <table id="paybackTable">
          <thead><tr><th>Year</th><th>Cumulative Profit</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="section-group">
        <h3>Charts</h3>
        <div><canvas id="roiLineChart" height="180"></canvas></div>
        <div><canvas id="roiBarChart" height="180"></canvas></div>
        <div><canvas id="roiPieChart" height="180"></canvas></div>
        <div><canvas id="roiBreakEvenChart" height="180"></canvas></div>
      </div>
      <div class="section-group">
        <h3>Sensitivity (Tornado Chart)</h3>
        <div><canvas id="tornadoChart" height="220"></canvas></div>
      </div>
    </section>
    <section id="scenarios" class="tab-content hidden">
      <h2>Scenarios</h2>
      <form id="scenarioForm">
        <input id="scenarioName" type="text" placeholder="Scenario name" required>
        <button type="submit">Save Scenario</button>
      </form>
      <div id="scenarioList"></div>
      <div id="scenarioDiffContainer" class="section-group"></div>
    </section>
    <section id="summary" class="tab-content hidden">
      <h2>Summary Report</h2>
      <button id="exportPDFBtn">Export PDF</button>
      <button id="exportExcelBtn">Export Excel</button>
      <div id="reportContent"></div>
    </section>
    <section id="gantt" class="tab-content hidden">
      <h2>Gantt Chart</h2>
      <form id="ganttTaskForm">
        <input id="ganttEditId" type="hidden">
        <label>Task Name: <input id="ganttTaskName" type="text"></label>
        <label>Start: <input id="ganttTaskStart" type="date"></label>
        <label>End: <input id="ganttTaskEnd" type="date"></label>
        <label>Progress (%): <input id="ganttTaskProgress" type="number" min="0" max="100"></label>
        <button type="submit">Save</button>
        <button type="button" id="ganttTaskResetBtn">Reset</button>
      </form>
      <div id="ganttTaskList"></div>
      <div id="ganttContainer" style="margin-top:1rem"></div>
    </section>
    <section id="files" class="tab-content hidden files-tab">
      <h2>Files</h2>
      <form id="fileUploadForm" enctype="multipart/form-data">
        <input type="file" id="fileInput" multiple>
        <button type="submit">Upload</button>
      </form>
      <div id="filesTabContent"></div>
    </section>
  </main>
</body>
</html>
